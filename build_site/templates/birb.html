{% extends "base.html" %}
{% block content %}
<head>
  <meta charset="utf-8">
  <title>Play DOOM</title>

  <!-- js-dos v6 -->
  <link rel="stylesheet" href="js-dos.css">
  <script src="js-dos.js"></script>

  <style>
    #dosbox {
        width: 100%;        /* scale to full container width */
        height: auto;       /* maintain aspect ratio */
        max-width: 800px;  /* optional max width */
        border: 2px solid #444;
        border-radius: 8px;
        box-shadow: 0 0 20px rgba(0,0,0,0.7);
}
  </style>
</head>
<main>
<body>
  <!-- Use a canvas, not a div -->
  <canvas id="dosbox" width="1200" height="900"></canvas>

  <script>
    Dos(document.getElementById("dosbox"), {
      wdosboxUrl: "wdosbox.js"
    }).ready((fs, main) => {
      fs.extract("DOOM.zip").then(() => {
        main(["-c", "cd GAME", "-c", "FDOOM.exe"]);
      });
    });
  </script>
</body>
</main>
{% endblock %}
